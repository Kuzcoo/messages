(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},105:function(e,t){},140:function(e,t){},141:function(e,t){},193:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=193},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(87),c=a.n(r);function i(e,t){return function(a){return n.a.createElement(e,Object.assign({},t,a))}}var o=function(){var e=[];return{createMessage:function(t){return e.unshift(t),t},fetchMessages:function(){return new Promise(function(t,a){setTimeout(function(){return t(e)},1e3)})}}}(),l=a(89),u=a(14),m=a(15),g=a(17),f=a(16),h=a(18),p=i(function(e){function t(){var e,a;Object(u.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={error:!1,messages:[],loading:!0},a.reload=function(){a.setState({loading:!0,error:!1}),a.fetchMessages()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"fetchMessages",value:function(){var e=this;this.props.fetchMessages().then(function(t){e.setState({loading:!1,messages:t})})}},{key:"componentDidMount",value:function(){this.fetchMessages()}},{key:"render",value:function(){return this.props.children(Object(l.a)({},this.state,{reload:this.reload}))}}]),t}(n.a.PureComponent),o),d=a(88),v=(a(95),a(96),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){var t=a.state.isMessageEmpty,s=e.target.value;t&&""!==s?a.setState({isMessageEmpty:!1}):t||""!==s||a.setState({isMessageEmpty:!0})},a.handleSubmit=function(e){e.preventDefault();var t=a.textareaRef.current.value,s=a.checkboxRef.current.checked;a.validateMessage(t)&&(a.props.onNewMessage({isPrivate:s,text:t,timestamp:Date.now()}),a.resetErrorState(),a.resetFields())},a.textareaRef=n.a.createRef(),a.checkboxRef=n.a.createRef(),a.state={error:null,isMessageEmpty:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"resetErrorState",value:function(){this.setState({isMessageEmpty:!0,error:!1})}},{key:"resetFields",value:function(){this.textareaRef.current.value="",this.checkboxRef.current.checked=!1}},{key:"validateMessage",value:function(e){return!!e}},{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.handleSubmit,className:"message-editor"},n.a.createElement("label",{className:"message-editor__label",for:"new-message"},"Ecrire un message"),n.a.createElement("textarea",{onChange:this.handleChange,id:"new-message",ref:this.textareaRef,className:"message-editor__text",rows:"2"}),n.a.createElement("p",{className:"message-editor__actions"},n.a.createElement("input",{id:"private",ref:this.checkboxRef,type:"checkbox"}),n.a.createElement("label",{for:"private",className:"message-editor__visibility"},"Message priv\xe9"),n.a.createElement("input",{disabled:this.state.isMessageEmpty,type:"submit",value:"Publier",className:"button message-editor__submit"})))}}]),t}(n.a.Component));a(194);function E(e){return n.a.createElement("svg",Object.assign({},e,{height:"100px",width:"100px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100"}),n.a.createElement("g",null,n.a.createElement("path",{d:"M5273.1,2400.1v-2c0-2.8-5-4-9.7-4s-9.7,1.3-9.7,4v2c0,1.8,0.7,3.6,2,4.9l5,4.9c0.3,0.3,0.4,0.6,0.4,1v6.4     c0,0.4,0.2,0.7,0.6,0.8l2.9,0.9c0.5,0.1,1-0.2,1-0.8v-7.2c0-0.4,0.2-0.7,0.4-1l5.1-5C5272.4,2403.7,5273.1,2401.9,5273.1,2400.1z      M5263.4,2400c-4.8,0-7.4-1.3-7.5-1.8v0c0.1-0.5,2.7-1.8,7.5-1.8c4.8,0,7.3,1.3,7.5,1.8C5270.7,2398.7,5268.2,2400,5263.4,2400z"}),n.a.createElement("path",{d:"M5268.4,2410.3c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1h4.3c0.6,0,1-0.4,1-1c0-0.6-0.4-1-1-1H5268.4z"}),n.a.createElement("path",{d:"M5272.7,2413.7h-4.3c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1h4.3c0.6,0,1-0.4,1-1C5273.7,2414.1,5273.3,2413.7,5272.7,2413.7z"}),n.a.createElement("path",{d:"M5272.7,2417h-4.3c-0.6,0-1,0.4-1,1c0,0.6,0.4,1,1,1h4.3c0.6,0,1-0.4,1-1C5273.7,2417.5,5273.3,2417,5272.7,2417z"}),n.a.createElement("path",{d:"M75.8,37.6v-9.3C75.8,14.1,64.2,2.5,50,2.5S24.2,14.1,24.2,28.3v9.3c-7,0.6-12.4,6.4-12.4,13.6v32.6    c0,7.6,6.1,13.7,13.7,13.7h49.1c7.6,0,13.7-6.1,13.7-13.7V51.2C88.3,44,82.8,38.2,75.8,37.6z M50,15.6c7,0,12.7,5.7,12.7,12.7v9.1    H37.3v-9.1C37.3,21.3,43,15.6,50,15.6z"})))}function b(e){var t=e.text,a=e.timestamp,s=e.isPrivate;return n.a.createElement("article",{className:"message"},n.a.createElement("header",{className:"message__infos"},n.a.createElement("span",{className:"message__info"},new Date(a).toLocaleString()),s&&n.a.createElement(E,null)),n.a.createElement("p",{className:"message__text"},t))}a(195);function M(e){var t=e.message,a=e.children;return n.a.createElement("article",{className:"info-message"},n.a.createElement("p",{className:"info-message__text"},t),a)}a(196);var y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).createMessage=function(e){var t=a.props.createMessage(e);a.setState(function(e){var a=e.messages;return{messages:[t].concat(Object(d.a)(a))}})},a.reloadMessages=function(){a.props.reload()},a.state={messages:e.messages?e.messages:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"getMessagesList",value:function(){var e=this.state.messages,t=this.props,a=t.loading,s=t.error;return a?n.a.createElement("h3",{style:{fontWeight:"normal"}},"Chargement des messages..."):s?n.a.createElement(M,{message:"Une erreur s'est produite lors de la r\xe9cup\xe9ration de vos messages."},n.a.createElement("button",{className:"button",style:{marginTop:"1rem"},onClick:this.reloadMessages},"R\xe9ssayer")):0===e.length?n.a.createElement(M,{message:"Publiez votre premier message en utilisant la zone de texte ci-dessus !"}):e.map(b)}},{key:"render",value:function(){var e=this.getMessagesList();return n.a.createElement("main",null,n.a.createElement("header",null,n.a.createElement("h2",{className:"title"},"LiveMessages"),n.a.createElement(v,{className:"app-message-editor",onNewMessage:this.createMessage})),n.a.createElement("section",{className:"messages"},n.a.createElement("h3",{className:"messages__title"},"Messages publi\xe9s"),e))}}]),t}(n.a.Component),x=(a(197),i(y,o));var w=document.getElementById("root");c.a.render(n.a.createElement(function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p,null,x))},null),w)},90:function(e,t,a){e.exports=a(198)},95:function(e,t,a){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.428aa59c.chunk.js.map